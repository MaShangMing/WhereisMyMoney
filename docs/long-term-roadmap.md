# 长远发展规划（全资产管理）

本规划基于「自动识别支付通知」的现有能力，扩展到覆盖用户全量资产与负债，实现“资产负债表 + 现金流 + 经营分析”的统一视图。

## 1. 愿景与原则

- **愿景**：从“自动记账工具”升级为“个人/家庭资产管理中心”。
- **本地优先**：默认本地存储与计算，可选端到端加密同步。
- **可配置可扩展**：数据源、解析规则、资产类型可持续扩展。
- **低打扰**：尽量自动化，保留待确认队列与纠错机制。

## 2. 资产与负债覆盖范围

**资产**（可细分为流动/非流动）：
- 现金、银行卡、电子钱包（微信/支付宝/云闪付等）
- 股票、基金、债券、理财、加密资产
- 房产、车辆、贵金属/收藏品、设备
- 保险、养老金、公积金、积分/里程

**负债**：
- 信用卡账单、花呗/白条、消费分期
- 车贷、房贷、经营贷、个人贷款
- 应付账款、待报销、临时借款

## 3. 数据采集与输入渠道

**自动采集**（优先级由高到低）：
1. **系统通知监听**：微信/支付宝/云闪付/银行 App/证券 App/其他支付 App
2. **短信解析（Android）**：银行动账短信、信用卡账单短信、还款提醒短信
3. **邮件账单导入**：IMAP/手动导入（信用卡、券商、银行对账单）
4. **分享/剪贴板/快捷指令（iOS）**：通知内容透传、文本/截图分享
5. **OCR 识别**：账单截图、发票、短信截图

**手动与半自动**：
- 批量导入（CSV/Excel/OFX/QIF）
- 模板化录入（房租、房贷、保险续费等周期性项目）

## 4. 核心功能模块规划

### 4.1 统一账户体系与资产负债表
- 账户支持 **资产/负债/权益** 类型
- 多币种支持与汇率换算
- 净资产趋势、资产结构分析

### 4.2 智能解析与规则引擎
- 解析模板库（不同 App/银行/地区）
- 规则优先级：白名单/黑名单/关键词/金额区间
- 规则调试与误解析回滚

### 4.3 投资与资产估值
- 持仓、成本、收益、分红、税费
- 估值与净值曲线
- 资产定价来源可选（公开行情 API 或手动）

### 4.4 房产与车辆管理
- 资产档案、估值变动、折旧模型
- 维护成本、保险、年检、停车费等
- 关联贷款与还款计划

### 4.5 贷款与信用管理
- 还款计划、利息计算（等额本息/等额本金/一次性）
- 提前还款模拟
- 账单提醒与到期风险提示

### 4.6 预算、目标与计划
- 预算包（家庭/个人/项目）
- 目标追踪（购房、旅行、教育基金）
- 现金流预测（未来 3/6/12 个月）

### 4.7 报表与洞察
- 资产结构、负债结构、现金流量表
- 大额支出/异常波动识别
- 资金去向与“隐形订阅”识别

## 5. 平台与技术路线

**Android**
- 通知监听 + 短信解析 + 分享/OCR
- 可选无障碍辅助（严格提示与权限控制）

**iOS**
- 快捷指令自动化 + 分享扩展 + OCR
- 邮件账单导入与手动导入为补充

**HarmonyOS**
- notificationSubscribe 通知监听
- 逐步补齐短信/分享能力

**解析引擎**
- 规则驱动 + 模板化配置
- 版本化迁移，保持历史可追溯

## 6. 里程碑（示例）

- **M1（扩展数据源）**：短信解析、更多支付 App、银行通知
- **M2（资产负债表）**：账户类型扩展、净资产趋势、多币种
- **M3（投资与贷款）**：持仓/还款计划/收益与利息模型
- **M4（固定资产与维护）**：房产/车辆档案、折旧与维护提醒
- **M5（智能化）**：异常识别、自动对账、预测分析

## 7. 风险与合规

- **权限合规**：短信/通知/无障碍的使用须透明告知
- **解析稳定性**：来源模板变化需快速更新策略
- **隐私与安全**：本地优先，备份加密，敏感字段脱敏

## 8. 可持续扩展方向（发散）

- 插件化数据源（社区共建解析规则）
- 家庭/多人账本（权限与成员角色）
- 资产“标签化”与多维度分析
- 订阅与固定支出智能提醒
- 简单的税务/报销辅助（仅本地离线）

